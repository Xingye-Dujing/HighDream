<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Matrix Panel</title>
    <link rel="stylesheet" href="../static/fontawesome/css/all.min.css" />
    <link rel="stylesheet" href="/static/style.css" />
    <script
      id="MathJax-script"
      async
      src="../static/mathjax/es5/tex-chtml-full.js"
    ></script>
    <script src="/static/matrix_panel.js"></script>
  </head>

  <body>
    <div id="math-background">
      <div class="math-bg-element" style="top: 10%; left: 5%">∫</div>
      <div class="math-bg-element" style="top: 20%; right: 8%">∑</div>
      <div class="math-bg-element" style="top: 40%; left: 7%">∂</div>
      <div class="math-bg-element" style="top: 60%; right: 10%">π</div>
      <div class="math-bg-element" style="top: 80%; left: 12%">∞</div>
      <div class="math-bg-element" style="bottom: 15%; right: 5%">∇</div>
    </div>

    <div id="header">
      <h1><i></i>Matrix Panel</h1>
      <div id="header-controls">
        <a href="/">
          <button class="header-btn" id="matrixLabBtn" title="首页">
            <i class="fas fa-circle"></i>
          </button>
        </a>

        <button class="header-btn" id="saveNotebookBtn" title="保存笔记本">
          <i class="fas fa-save"></i>
        </button>
        <button class="header-btn" id="loadNotebookBtn" title="加载笔记本">
          <i class="fas fa-folder-open"></i>
        </button>
        <button class="header-btn" id="toggleKeyboardBtn" title="切换虚拟键盘">
          <i class="fas fa-keyboard"></i>
        </button>
        <button class="header-btn" id="toggleThemeBtn" title="切换主题">
          <i class="fas fa-moon"></i>
        </button>
      </div>
    </div>

    <div id="toolbar">
      <button class="toolbar-button" id="addCellBtn">
        <i class="fas fa-plus"></i><span>添加计算单元格</span>
      </button>
      <button class="toolbar-button" id="addMdCellBtn">
        <i class="fas fa-plus"></i><span>添加文本单元格</span>
      </button>
      <div class="toolbar-separator"></div>
      <button class="toolbar-button" id="moveCellUpBtn">
        <i class="fas fa-arrow-up"></i><span>上移</span>
      </button>
      <button class="toolbar-button" id="moveCellDownBtn">
        <i class="fas fa-arrow-down"></i><span>下移</span>
      </button>
      <button class="toolbar-button" id="deleteCellBtn">
        <i class="fas fa-trash"></i><span>删除</span>
      </button>
    </div>

    <div id="notebook-container">
      <div id="notebook">
        <!-- 初始单元格将由 JavaScript 动态生成 -->
      </div>
    </div>

    <div id="math-keyboard" class="keyboard-hidden">
      <div class="keyboard-header">
        <span>数学符号键盘</span>
        <button id="closeKeyboardBtn" class="keyboard-close-btn">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="keyboard-content">
        <div class="keyboard-row">
          <button class="keyboard-key" data-value="x">x</button>
          <button class="keyboard-key" data-value="y">y</button>
          <button class="keyboard-key" data-value="z">z</button>
          <button class="keyboard-key" data-value="g">g</button>
          <button class="keyboard-key" data-value="f">f</button>
        </div>
        <div class="keyboard-row">
          <button class="keyboard-key" data-value="a">a</button>
          <button class="keyboard-key" data-value="b">b</button>
          <button class="keyboard-key" data-value="c">c</button>
          <button class="keyboard-key" data-value="pi">π</button>
          <button class="keyboard-key" data-value="E">e</button>
        </div>
        <div class="keyboard-row">
          <button class="keyboard-key" data-value="**">幂</button>
          <button class="keyboard-key" data-value="sqrt()">平方根</button>
          <button class="keyboard-key" data-value="()">括号</button>
          <button class="keyboard-key" data-value="[]">方括号</button>
        </div>
        <div class="keyboard-row">
          <button class="keyboard-key" data-value="sin()">sin</button>
          <button class="keyboard-key" data-value="cos()">cos</button>
          <button class="keyboard-key" data-value="tan()">tan</button>
          <button class="keyboard-key" data-value="log()">log</button>
          <button class="keyboard-key" data-value="exp()">exp</button>
        </div>
        <div class="keyboard-row">
          <button class="keyboard-key" data-value="+">+</button>
          <button class="keyboard-key" data-value="-">-</button>
          <button class="keyboard-key" data-value="*">*</button>
          <button class="keyboard-key" data-value="/">/</button>
          <button class="keyboard-key" data-value="=">=</button>
        </div>
      </div>
    </div>

    <!-- 用于占据页面底部, 在键盘打开时, 将页面向下延伸, 防止键盘挡住单元格 -->
    <div
      id="helpful-area"
      style="display: none; width: 100%; height: 320px"
    ></div>
  </body>
</html>
